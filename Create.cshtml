@{
    ViewBag.Title = "Create VC Commitment";
}
<style>
    .card-header {
        background-color: #5C5CFF;
        color: white;
        border-radius: 12px 12px 0 0;
        font-size: 1.25rem;
        font-weight: 600;
        text-align: center;
    }
</style>


<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">

            <div class="card shadow-lg border-0 rounded-4">

                <h3 class="card-header">Create VC Commitment</h3>


                <div class="card-body p-4">
                    <form id="vcForm">
                        <div class="mb-3">
                            <label class="form-label fw-bold">Event Date</label>
                            <input type="date" name="EventDate" class="form-control" required />
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-bold">Activity</label>
                            <input type="text" name="Activity" class="form-control" placeholder="Enter activity name" required />
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-bold">Responsible</label>
                            <input type="text" name="Responsible" class="form-control" placeholder="Enter responsible person" />
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">Start Time</label>
                                <input type="time" name="StartTime" class="form-control" required />
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">End Time</label>
                                <input type="time" name="EndTime" class="form-control" required />
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-bold">Venue</label>
                            <input type="text" name="Venue" class="form-control" placeholder="Enter venue" />
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-bold">Members</label>
                            <textarea name="Members" rows="3" class="form-control" placeholder="Enter members"></textarea>
                        </div>

                        <div class="d-flex justify-content-between">
                            <button type="submit" class="btn btn-success px-4">
                                <i class="bi bi-save"></i> Save
                            </button>
                            <a href="@Url.Action("List", "VCCommitment")" class="btn btn-primary px-4">
                                <i class="bi bi-eye"></i> View Events
                            </a>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(document).ready(function () {
        $("#vcForm").submit(function (e) {
            e.preventDefault();

            $.ajax({
                url: '@Url.Action("CreateAjax", "VCCommitment")',
                type: 'POST',
                data: $(this).serialize(),
                success: function (response) {
                    Swal.fire({
                        icon: response.success ? "success" : "error",
                        title: response.success ? "✅ Success!" : "❌ Oops...",
                        text: response.message
                    });

                    if (response.success) {
                        $("#vcForm")[0].reset();
                    }
                },
                error: function () {
                    Swal.fire({
                        icon: "error",
                        title: "❌ Oops...",
                        text: "Something went wrong with the request."
                    });
                }
            });
        });
    });
</script>
